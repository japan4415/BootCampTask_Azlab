{"changed":true,"filter":false,"title":"game.html","tooltip":"/client/game.html","value":"<!doctype html>\n<html>\n    <head>\n        <title>In Game</title>\n        <meta charset=\"utf-8\">\n    </head>\n    <body>\n        <script src=\"./js/three.min.js\"></script>\n        <script src=\"./js/helvetiker_bold.typeface.js\"></script>\n        <script>\n//---共通変数宣言-------------------------------------------\n    var width = window.innerWidth * 0.85;\n    var height = width * 9 / 16;\n    var max_range_x = 100;\n    var max_range_y = 100;\n//----------------------------------------------------------\n//---レンダラー作成-----------------------------------------\n    var renderer;\n    function init_renderer(){\n        renderer = new THREE.WebGLRenderer();\n        renderer.setSize(width,height);\n    }\n    init_renderer();\n    document.body.appendChild(renderer.domElement);\n//---ここまで-----------------------------------------------\n//---シーン実装と調整-ここから----------------------------------------------------------------\n    var scene;\n    function init_scene(){\n        scene = new THREE.Scene();\n    }\n    init_scene();\n//---ここまで----------------------------------------------------------------\n//---カメラ実装と調整-ここから----------------------------------------------------------------\n    var camera\n    function init_camera(){\n        camera = new THREE.PerspectiveCamera();\n        camera .lookAt = (0,0,0);\n        camera.position.x = 0;\n        camera.position.y = 0;\n        camera.position.z = 100;\n    }\n    init_camera();\n//---ここまで------------------------------------------------------------------\n//---使用する変数の宣言-----------\n    function main_position(){\n        this.x = 0;\n        this.y = 0\n    }\n    var main_xy = new Array();\n    main_xy.push(new main_position());\n    main_xy[0].x = 0;\n    main_xy[0].y = 0;\n    function esa_potition(){\n        this.x = 0;\n        this.y = 0;\n        this.image = \"no image\";\n    }\n    var esa_xy = new Array();\n    var move_mode = 0; //1:x+,2:x-,3:y+,4:y-\n    var esa_flag = 0; //餌のフラグ\n//---ここまで----------\n//---餌生成-j個目のオブジェクトに対して使う関数---------------------------------\n    function makinge_esa(j){\n        esa_xy[j] = new esa_potition();\n        esa_xy[j].x = Math.random() * max_range_x * 2 - max_range_x;\n        esa_xy[j].y = Math.random() * max_range_y * 2 - max_range_y;\n    }\n//---ここまで------------------------------------\n//---主人公生成-------------------------\n    var main_geometry = new THREE.BoxGeometry(2,2,2);\n    var texture = new THREE.ImageUtils.loadTexture('./crate.gif');\n    texture.anisotropy = renderer.getMaxAnisotropy();\n    var main_material = new THREE.MeshBasicMaterial( { map: texture } );\n    //var main_material = new THREE.MeshBasicMaterial({color:0x00ff00});\n    var main_obj = new THREE.Mesh(main_geometry,main_material);\n    scene.add(main_obj);\n//---ここまで------------------------\n//---操作実装---------------------------------------------------------\n    document.onkeydown = function(key){\n        console.log(\"keydown\");\n        console.log(key);\n        console.log(key.keyCode);\n         if(key.keyCode == 65){\n             move_mode_change(65);\n         }   \n         if(key.keyCode == 68){\n             move_mode_change(68);\n         }\n    }\n    function move_mode_change(key){\n        if(move_mode == 0){move_mode = 1;}\n        if(move_mode == 1){\n            if(key == 65){\n                move_mode = 3;\n                return;\n            }\n        }\n        if(move_mode == 1){\n            if(key == 68){\n                move_mode = 4;\n                return;\n            }\n        }\n        if(move_mode == 2){\n            if(key == 65){\n                move_mode = 4;\n                return;\n            }\n        }\n        if(move_mode == 2){\n            if(key == 68){\n                move_mode = 3;\n                return;\n            }\n        }\n        if(move_mode == 3){\n            if(key == 65){\n                move_mode = 2;\n                return;\n            }\n        }\n        if(move_mode == 3){\n            if(key == 68){\n                move_mode = 1;\n                return;\n            }\n        }\n        if(move_mode == 4){\n            if(key == 65){\n                move_mode = 1;\n                return;\n            }\n        }\n        if(move_mode == 4){\n            if(key == 68){\n                move_mode = 2;\n                return;\n            }\n        }\n    }\n//---ここまで----------------------------------------------\n//---方向転換---\n    function move(mode){\n        if(mode == 1){main_obj.position.x += 0.1;}\n        if(mode == 2){main_obj.position.x -= 0.1;}\n        if(mode == 3){main_obj.position.y += 0.1;}\n        if(mode == 4){main_obj.position.y -= 0.1;}\n    }\n//---ここまで---\n//---表示(アニメーションも)-ここから-----------------------------------------------------------------------------------\n    function render(){\n        //renderer.clear();\n        main_obj.rotation.x += 0.1;\n        main_obj.rotation.y += 0.1;\n        move(move_mode);\n        console.log(move_mode);\n        window.requestAnimationFrame(render);\n        renderer.render(scene,camera);\n    }\n    render();\n    //renderer.render(scene,camera);\n//---ここまで--------------------------------------------------------\n        </script>\n    </body>\n</HTML>","undoManager":{"mark":63,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":93,"column":29},"end":{"row":93,"column":30},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":32},"end":{"row":93,"column":33},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":103,"column":30},"end":{"row":104,"column":0},"action":"insert","lines":["",""]},{"start":{"row":104,"column":0},"end":{"row":104,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":16},"end":{"row":104,"column":33},"action":"insert","lines":["console.log(\"a\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":30},"end":{"row":115,"column":0},"action":"insert","lines":["",""]},{"start":{"row":115,"column":0},"end":{"row":115,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":115,"column":16},"end":{"row":115,"column":33},"action":"insert","lines":["console.log(\"a\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":125,"column":30},"end":{"row":126,"column":0},"action":"insert","lines":["",""]},{"start":{"row":126,"column":0},"end":{"row":126,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":16},"end":{"row":126,"column":33},"action":"insert","lines":["console.log(\"a\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":29},"end":{"row":126,"column":30},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":29},"end":{"row":126,"column":30},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":29},"end":{"row":126,"column":30},"action":"remove","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":29},"end":{"row":126,"column":30},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":115,"column":29},"end":{"row":115,"column":30},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":115,"column":29},"end":{"row":115,"column":30},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":29},"end":{"row":104,"column":30},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":29},"end":{"row":104,"column":30},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":16},"end":{"row":93,"column":33},"action":"remove","lines":["console.log(\"a\");"]},{"start":{"row":93,"column":16},"end":{"row":93,"column":17},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":17},"end":{"row":93,"column":18},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":18},"end":{"row":93,"column":19},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":19},"end":{"row":93,"column":20},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":19},"end":{"row":93,"column":20},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":18},"end":{"row":93,"column":19},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":17},"end":{"row":93,"column":18},"action":"remove","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":16},"end":{"row":93,"column":17},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":16},"end":{"row":93,"column":17},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":17},"end":{"row":93,"column":18},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":18},"end":{"row":93,"column":19},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":19},"end":{"row":93,"column":20},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":20},"end":{"row":93,"column":21},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":21},"end":{"row":93,"column":22},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":22},"end":{"row":93,"column":23},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":23},"end":{"row":93,"column":24},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":24},"end":{"row":93,"column":25},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":25},"end":{"row":93,"column":26},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":26},"end":{"row":93,"column":27},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":26},"end":{"row":93,"column":27},"action":"remove","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":25},"end":{"row":93,"column":26},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":24},"end":{"row":93,"column":25},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":23},"end":{"row":93,"column":24},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":22},"end":{"row":93,"column":23},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":21},"end":{"row":93,"column":22},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":20},"end":{"row":93,"column":21},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":19},"end":{"row":93,"column":20},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":18},"end":{"row":93,"column":19},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":17},"end":{"row":93,"column":18},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":16},"end":{"row":93,"column":17},"action":"remove","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":16},"end":{"row":93,"column":17},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":17},"end":{"row":93,"column":18},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":18},"end":{"row":93,"column":19},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":19},"end":{"row":93,"column":20},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":20},"end":{"row":93,"column":21},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":21},"end":{"row":93,"column":22},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":22},"end":{"row":93,"column":23},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":98,"column":30},"end":{"row":99,"column":0},"action":"insert","lines":["",""]},{"start":{"row":99,"column":0},"end":{"row":99,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":99,"column":16},"end":{"row":99,"column":23},"action":"insert","lines":["return;"]}]}],[{"group":"doc","deltas":[{"start":{"row":105,"column":16},"end":{"row":105,"column":33},"action":"remove","lines":["console.log(\"b\");"]},{"start":{"row":105,"column":16},"end":{"row":105,"column":23},"action":"insert","lines":["return;"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":30},"end":{"row":111,"column":0},"action":"insert","lines":["",""]},{"start":{"row":111,"column":0},"end":{"row":111,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":111,"column":16},"end":{"row":111,"column":23},"action":"insert","lines":["return;"]}]}],[{"group":"doc","deltas":[{"start":{"row":117,"column":16},"end":{"row":117,"column":33},"action":"remove","lines":["console.log(\"c\");"]},{"start":{"row":117,"column":16},"end":{"row":117,"column":23},"action":"insert","lines":["return;"]}]}],[{"group":"doc","deltas":[{"start":{"row":122,"column":30},"end":{"row":123,"column":0},"action":"insert","lines":["",""]},{"start":{"row":123,"column":0},"end":{"row":123,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":123,"column":16},"end":{"row":123,"column":23},"action":"insert","lines":["return;"]}]}],[{"group":"doc","deltas":[{"start":{"row":129,"column":16},"end":{"row":129,"column":33},"action":"remove","lines":["console.log(\"d\");"]},{"start":{"row":129,"column":16},"end":{"row":129,"column":23},"action":"insert","lines":["return;"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":30},"end":{"row":135,"column":0},"action":"insert","lines":["",""]},{"start":{"row":135,"column":0},"end":{"row":135,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":16},"end":{"row":135,"column":23},"action":"insert","lines":["return;"]}]}],[{"group":"doc","deltas":[{"start":{"row":58,"column":44},"end":{"row":59,"column":0},"action":"insert","lines":["",""]},{"start":{"row":59,"column":0},"end":{"row":59,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":4},"end":{"row":59,"column":5},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":5},"end":{"row":59,"column":6},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":6},"end":{"row":59,"column":7},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":7},"end":{"row":59,"column":8},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":8},"end":{"row":59,"column":9},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":9},"end":{"row":59,"column":10},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":10},"end":{"row":59,"column":11},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":11},"end":{"row":59,"column":12},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":11},"end":{"row":59,"column":12},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":11},"end":{"row":59,"column":12},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":12},"end":{"row":59,"column":13},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":13},"end":{"row":59,"column":14},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":14},"end":{"row":59,"column":15},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":15},"end":{"row":59,"column":16},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":16},"end":{"row":59,"column":17},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":17},"end":{"row":59,"column":18},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":18},"end":{"row":59,"column":19},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":19},"end":{"row":59,"column":20},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":20},"end":{"row":59,"column":21},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":21},"end":{"row":60,"column":0},"action":"insert","lines":["",""]},{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":21},"end":{"row":60,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":21},"end":{"row":59,"column":22},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":23},"end":{"row":59,"column":24},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":24},"end":{"row":59,"column":26},"action":"insert","lines":["餌の"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":26},"end":{"row":59,"column":29},"action":"insert","lines":["フラグ"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":29},"end":{"row":60,"column":0},"action":"insert","lines":["",""]},{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":4},"end":{"row":60,"column":5},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":5},"end":{"row":60,"column":6},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":6},"end":{"row":60,"column":7},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":6},"end":{"row":60,"column":7},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":5},"end":{"row":60,"column":6},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":4},"end":{"row":60,"column":5},"action":"remove","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":29},"end":{"row":60,"column":0},"action":"remove","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":157,"column":38},"end":{"row":157,"column":38},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1431017205559}